# Write a clean, modern HTML with Leaflet map (map/satellite toggle), route, pricing, and booking.
from pathlib import Path

html = """<!doctype html>
<html lang="de">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Zenty Express AI — Mobility & Transport</title>
<meta name="description" content="Zenty Express AI · Mobility & Transport · VIP Shuttle · Kurier · Intelligente Routen · Made in Germany">

<!-- Leaflet (Map + Satellite Toggle) -->
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="anonymous">
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin="anonymous"></script>

<style>
:root{
  --bg:#0b0f16; --panel:#111725; --border:#232b3e; --text:#eef3ff; --muted:#bfc8dc;
  --accent:#2aa8ff; --gold:#d4af37; --radius:22px; --shadow:0 12px 28px rgba(0,0,0,.35);
}
*{box-sizing:border-box}
body{margin:0;background:radial-gradient(1200px 700px at 70% -10%,#182133 0%, transparent 55%), linear-gradient(180deg,#0b0f16,#0c1018);color:var(--text);font:16px/1.6 Inter,system-ui,Segoe UI,Roboto,Arial,sans-serif}
a{color:inherit;text-decoration:none}
.container{max-width:1200px;margin:0 auto;padding:28px}

/* Header */
header{position:sticky;top:0;z-index:50;background:linear-gradient(180deg,rgba(10,14,22,.9),rgba(10,14,22,.25));backdrop-filter:blur(8px);border-bottom:1px solid var(--border)}
.nav{display:flex;align-items:center;gap:18px;padding:10px 18px}
.brand{display:flex;align-items:center;gap:12px}
.brand img{height:118px;width:auto;filter:drop-shadow(0 12px 24px rgba(0,0,0,.55))}
.brand strong{font-weight:800;color:#ffffff;font-size:18px;text-shadow:0 2px 6px rgba(0,0,0,.3)}
.spacer{flex:1}
.btn{display:inline-flex;align-items:center;gap:8px;padding:10px 16px;border-radius:999px;border:1px solid #273148;background:linear-gradient(180deg,#141b2a,#0e1320);box-shadow:var(--shadow);cursor:pointer}
.btn:hover{transform:translateY(-1px)}
.btn.gold{background:linear-gradient(180deg,#2a2311,#171108);border-color:#3a2c09;color:#fbf6e5}

/* Headings */
h1{margin:10px 0 12px;font-weight:900;letter-spacing:.2px;font-size:clamp(32px,3.6vw,48px);text-shadow:0 3px 14px rgba(0,0,0,.35)}
h2{font-size:clamp(22px,2.2vw,30px);margin:0 0 14px;font-weight:900;color:#fff;text-shadow:0 3px 12px rgba(0,0,0,.5)}
h2::after{content:"";display:block;width:90px;height:3px;margin-top:8px;background:linear-gradient(90deg,#2aa8ff,#6fd0ff);border-radius:999px;opacity:.9}

/* Sections */
.section{padding:28px 18px}
.card{background:linear-gradient(180deg,#121a2a,#0c111c);border:1px solid var(--border);border-radius:var(--radius);box-shadow:var(--shadow);overflow:hidden}
.card.pad{padding:28px}
.grid-4{display:grid;grid-template-columns:repeat(4,1fr);gap:16px}
.grid-3{display:grid;grid-template-columns:repeat(3,1fr);gap:16px}
.hero{display:grid;grid-template-columns:1.2fr 1fr;gap:28px;align-items:center;padding:36px 18px 12px}
.muted{color:var(--muted)}
@media(max-width:1000px){.hero{grid-template-columns:1fr}.grid-4{grid-template-columns:repeat(2,1fr)}.grid-3{grid-template-columns:repeat(2,1fr)}}

/* Tiles */
.tile{position:relative}
.tile img{width:100%;height:auto;display:block}
.tile .body{padding:14px}
.veh img{aspect-ratio:4/3;object-fit:cover;max-height:180px}
.veh .overlay{position:absolute;inset:auto 10px 10px auto;width:94px;opacity:.95;filter:drop-shadow(0 4px 10px rgba(0,0,0,.6))}
.pill{display:inline-block;border:1px solid #2b3143;border-radius:999px;padding:2px 8px;margin-left:8px;color:#b9c3d6;font-size:12px}

/* Map area */
.aiRoute{display:grid;grid-template-columns:1.1fr 1fr;gap:18px}
.canvasWrap{position:relative;height:420px;border-radius:var(--radius);border:1px solid var(--border);overflow:hidden;background:radial-gradient(600px 260px at 60% -10%, rgba(42,168,255,.18), transparent 60%), #0a0f17}
#starfield{position:absolute;inset:0;width:100%;height:100%}
.mapWrap{position:relative;border-radius:var(--radius);border:1px solid var(--border);padding:14px;background:linear-gradient(180deg,#0e1422,#0b101a)}
#map{height:320px;border-radius:14px;border:1px solid #253251;overflow:hidden}
.controls{display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-top:10px}
.input{width:100%;padding:10px;border:1px solid var(--border);border-radius:10px;background:#0e1422;color:var(--text)}
.infoRow{display:flex;gap:10px;margin-top:8px;align-items:center;flex-wrap:wrap}
.stat{background:#0e1422;border:1px solid #28324a;border-radius:12px;padding:8px 10px}
footer{padding:28px;border-top:1px solid var(--border);color:#acb6c9}
.addr{margin-top:6px;color:#cdd7e9}
</style>
</head>
<body>
<header>
  <div class="nav container">
    <a class="brand" href="#top"><img src="assets/logo.png" alt="Zenty Express AI"><strong>Zenty Express AI · Mobility & Transport</strong></a>
    <div class="spacer"></div>
    <a class="btn" href="#fahrzeuge">Fahrzeuge</a>
    <a class="btn" href="#preise">Preise</a>
    <a class="btn" href="#ki">KI-System</a>
    <a class="btn gold" href="#kontakt">Kontakt</a>
  </div>
</header>

<section class="hero container">
  <div class="card pad">
    <h1>AI Powered Mobility — Premium Shuttle · Kurier · Fleet</h1>
    <p class="muted">Intelligente Routen, Echtzeit-Analyse, zuverlässige Transporte. <b>Zenty Express AI</b> setzt neue Maßstäbe in Mobilität & Transport.</p>
    <div style="display:flex;gap:10px;margin-top:10px;flex-wrap:wrap">
      <a class="btn" href="#preise">📄 Preise ansehen</a>
      <a class="btn" href="#fahrzeuge">🚐 Fahrzeugflotte</a>
    </div>
  </div>
  <div class="card" style="padding:0"><img src="assets/prospekt-cover-fleet.jpg" alt="Fleet Cover" style="width:100%;height:100%;object-fit:cover"></div>
</section>

<section class="section container">
  <h2>Unsere Leistungen</h2>
  <p class="muted">VIP Shuttle · Kurier · Flughafentransfer · KI-gestützte Streckenoptimierung</p>
  <div class="grid-4">
    <article class="card tile"><img src="assets/prospekt-leistungen.jpg" alt=""><div class="body"><h3>VIP & Business</h3><p class="muted">Diskreter Fahrservice mit höchstem Komfort.</p></div></article>
    <article class="card tile"><img src="assets/prospekt-ai-system.jpg" alt=""><div class="body"><h3>Shuttle & Gruppen</h3><p class="muted">Flughafen, Mitarbeiter, Events — sicher & pünktlich.</p></div></article>
    <article class="card tile"><img src="assets/prospekt-route-clean.jpg" alt=""><div class="body"><h3>Kurier & Express</h3><p class="muted">Zeitkritische Zustellung, europaweit 24/7.</p></div></article>
    <article class="card tile"><img src="assets/prospekt-ueber-uns.jpg" alt=""><div class="body"><h3>Fest- & Tagestouren</h3><p class="muted">Smart geplant mit KI, flexibel & transparent.</p></div></article>
  </div>
</section>

<section class="section container" id="fahrzeuge">
  <h2>Unsere Fahrzeugflotte</h2>
  <p class="muted">Schwarzer Vito & Caddy · Weiße Trafic, Sprinter & Ducato — gepflegt, bereit.</p>
  <div class="grid-4">
    <article class="card tile veh"><img src="assets/vito.jpg" alt="Mercedes Vito"><img class="overlay" src="assets/logo.png" alt=""><div class="body"><h3>Mercedes Vito <span class="pill">schwarz</span></h3><p class="muted">Eleganter Shuttle, bis 8 Personen.</p></div></article>
    <article class="card tile veh"><img src="assets/caddy.jpg" alt="VW Caddy"><img class="overlay" src="assets/logo.png" alt=""><div class="body"><h3>VW Caddy <span class="pill">schwarz</span></h3><p class="muted">Kompakt & wendig.</p></div></article>
    <article class="card tile veh"><img src="assets/trafic.jpg" alt="Renault Trafic"><img class="overlay" src="assets/logo.png" alt=""><div class="body"><h3>Renault Trafic <span class="pill">weiß</span></h3><p class="muted">Viel Platz für Team & Gepäck.</p></div></article>
    <article class="card tile veh"><img src="assets/sprinter.jpg" alt="Mercedes Sprinter"><img class="overlay" src="assets/logo.png" alt=""><div class="body"><h3>Mercedes Sprinter <span class="pill">weiß</span></h3><p class="muted">Gruppen- & Sondertransporte.</p></div></article>
  </div>
</section>

<section class="section container" id="preise">
  <h2>Preise</h2>
  <div class="grid-3">
    <article class="card pad"><h3>Basic</h3><p><b>€ 1,00/km</b></p><p class="muted">Kurzstrecken · Transparente Tarife</p></article>
    <article class="card pad"><h3>Standard</h3><p><b>€ 0,90/km</b></p><p class="muted">20–100 km · schnelle Verfügbarkeit</p></article>
    <article class="card pad"><h3>Premium</h3><p><b>€ 0,80/km</b></p><p class="muted">Langstrecke · VIP</p></article>
  </div>
  <p class="muted" style="margin-top:8px">Preise sind Richtwerte; Endpreise je nach Route & Zeitplan.</p>
</section>

<section class="section container" id="ki">
  <h2>Zenty AI Route Intelligence</h2>
  <div class="aiRoute">
    <div class="canvasWrap card"><canvas id="starfield"></canvas></div>
    <div class="mapWrap card">
      <h3>Ulm-Region · 50 km · Start: <b>Lonsee</b></h3>
      <div id="map"></div>
      <div class="controls">
        <label>Start <input id="startInput" class="input" list="citylist" value="Lonsee"></label>
        <label>Ziel <input id="destInput" class="input" list="citylist" placeholder="Ziel wählen…"></label>
        <datalist id="citylist"></datalist>
      </div>
      <div class="infoRow">
        <button class="btn" id="calcBtn">Preis berechnen</button>
        <button class="btn gold" id="bookBtn" disabled>Jetzt buchen</button>
        <div id="priceBox" class="stat">Entfernung: — km · Preis: —</div>
      </div>
      <small class="muted">Tipp: Haritadaki işaretlere tıklayarak da hedefi seçebilirsin. “Harita/Sat” ile görünümü değiştir.</small>
    </div>
  </div>
</section>

<section class="section container" id="kontakt">
  <h2>Kontakt & Standort</h2>
  <p class="muted">E-Mail: info@zentyexpress.de · Web: zentyexpress.de</p>
  <p class="addr">Sitz: <b>Sinabronner Str. 25, 89173 Lonsee</b> · Deutschland</p>
  <div style="display:flex;gap:10px;flex-wrap:wrap;margin-top:8px">
    <a class="btn" id="waBtn" href="https://api.whatsapp.com/send?phone=49162575957" target="_blank" rel="noopener">WhatsApp</a>
    <a class="btn" href="https://t.me/ZentyExpressBot" target="_blank" rel="noopener">Telegram</a>
    <a class="btn gold" href="mailto:info@zentyexpress.de">E-Mail</a>
  </div>
</section>

<footer class="container">© Zenty Express AI — Mobility & Transport · Final Signature Edition v12 · Made in Germany</footer>

<script>
/* Starfield */
(function(){
  const canvas = document.getElementById('starfield');
  const ctx = canvas.getContext('2d');
  let W,H,stars=[];
  function resize(){W=canvas.width=canvas.clientWidth;H=canvas.height=canvas.clientHeight}
  window.addEventListener('resize',resize); resize();
  function init(){
    stars = Array.from({length:160}, _=> ({x:Math.random()*W,y:Math.random()*H,z:Math.random()*1.2+0.2,vx:(Math.random()-.5)*0.2,vy:(Math.random()-.5)*0.2}));
  }
  init();
  (function draw(){
    ctx.clearRect(0,0,W,H);
    const grad = ctx.createRadialGradient(W*0.6, H*0.2, 0, W*0.6, H*0.2, Math.max(W,H));
    grad.addColorStop(0,'rgba(42,168,255,0.25)'); grad.addColorStop(1,'rgba(0,0,0,0)');
    ctx.fillStyle=grad; ctx.fillRect(0,0,W,H);
    ctx.strokeStyle='rgba(140,200,255,0.22)'; ctx.lineWidth=1;
    ctx.beginPath(); for(let i=0;i<8;i++){ ctx.moveTo(W*0.2+i*40%W,H*0.1+i*22%H); ctx.lineTo(W*0.5,H*0.55); } ctx.stroke();
    for(const s of stars){
      s.x+=s.vx; s.y+=s.vy; if(s.x<0) s.x=W; if(s.x>W) s.x=0; if(s.y<0) s.y=H; if(s.y>H) s.y=0;
      const r=0.6+s.z*1.4; ctx.fillStyle='rgba(200,230,255,.9)'; ctx.beginPath(); ctx.arc(s.x,s.y,r,0,6.283); ctx.fill();
    }
    ctx.shadowBlur=18; ctx.shadowColor='rgba(80,170,255,.7)';
    ctx.fillStyle='rgba(60,160,255,.3)'; ctx.beginPath(); ctx.arc(W*0.5,H*0.55,46,0,6.283); ctx.fill();
    ctx.shadowBlur=0;
    requestAnimationFrame(draw);
  })();
})();

/* Leaflet map + pricing + booking */
(function(){
  // City coordinates (approx) — within ~50km of Lonsee
  const cities = {
    "Lonsee":[48.5259,9.9274],
    "Ulm":[48.4011,9.9876],
    "Neu-Ulm":[48.3927,10.0111],
    "Blaustein":[48.4177,9.9410],
    "Dornstadt":[48.4633,9.9553],
    "Günzburg":[48.4553,10.2728],
    "Senden":[48.3286,10.0442],
    "Ehingen":[48.2829,9.7276],
    "Laupheim":[48.2289,9.8776],
    "Geislingen":[48.6255,9.8344],
    "Biberach":[48.1033,9.7900],
    "Langenau":[48.4975,10.1192],
    "Weißenhorn":[48.3014,10.1582]
  };

  // datalist fill
  const dl = document.getElementById('citylist');
  Object.keys(cities).forEach(n => { const o=document.createElement('option'); o.value=n; dl.appendChild(o); });

  // Map init
  const start = cities["Lonsee"];
  const map = L.map('map',{zoomControl:false, attributionControl:false}).setView(start, 10);
  const osm = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {maxZoom:19});
  const sat = L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}', {maxZoom:19});
  osm.addTo(map);
  L.control.zoom({position:'bottomright'}).addTo(map);
  L.control.layers({"Harita":osm,"Sat":sat},null,{position:'topright'}).addTo(map);

  // Markers
  const markers = {};
  Object.entries(cities).forEach(([name,latlng])=>{
    const m = L.circleMarker(latlng,{radius:6,color:'#7fc1ff',fillColor:'#2aa8ff',fillOpacity:.9,weight:2})
      .addTo(map).bindTooltip(name,{direction:'top',offset:[0,-6],opacity:.9});
    m.on('click',()=>{ document.getElementById('destInput').value=name; compute(); });
    markers[name]=m;
  });

  // Polyline for route (dashed)
  let route = L.polyline([], {color:'#9ad0ff',weight:3,opacity:1,dashArray:'6 6'}).addTo(map);

  // Haversine
  function haversine(a,b){
    const toRad=d=>d*Math.PI/180; const R=6371;
    const dLat=toRad(b[0]-a[0]), dLon=toRad(b[1]-a[1]);
    const lat1=toRad(a[0]), lat2=toRad(b[0]);
    const h=Math.sin(dLat/2)**2 + Math.cos(lat1)*Math.cos(lat2)*Math.sin(dLon/2)**2;
    return 2*R*Math.asin(Math.sqrt(h));
  }
  const priceTiers=[{max:20,rate:1.00},{max:100,rate:0.90},{max:9999,rate:0.80}];
  function priceFor(km){const t=priceTiers.find(x=>km<=x.max);return {rate:t.rate,total:km*t.rate};}

  const startInput=document.getElementById('startInput');
  const destInput=document.getElementById('destInput');
  const priceBox=document.getElementById('priceBox');
  const calcBtn=document.getElementById('calcBtn');
  const bookBtn=document.getElementById('bookBtn');
  const waBtn=document.getElementById('waBtn');

  function compute(){
    const sName=startInput.value.trim(); const dName=destInput.value.trim();
    if(!cities[sName] || !cities[dName]){ priceBox.textContent='Entfernung: — km · Preis: —'; route.setLatLngs([]); bookBtn.disabled=true; return;}
    const A=cities[sName], B=cities[dName];
    // Draw nice curve: create mid control point offset perp to line
    const mid=[(A[0]+B[0])/2,(A[1]+B[1])/2];
    const dx=B[1]-A[1], dy=B[0]-A[0]; // lon diff, lat diff
    const len=Math.sqrt(dx*dx+dy*dy);
    const nx=-dy/len, ny=dx/len;
    const amp=Math.min(0.12,Math.max(0.04,len*0.25)); // degrees offset
    const ctrl=[mid[0]+ny*amp, mid[1]+nx*amp];
    // sample quadratic Bezier
    function quad(p0,p1,p2,t){const u=1-t;return [u*u*p0[0]+2*u*t*p1[0]+t*t*p2[0], u*u*p0[1]+2*u*t*p1[1]+t*t*p2[1]];}
    const pts=[]; for(let t=0;t<=1.001;t+=0.05) pts.push(quad(A,ctrl,B,t));
    route.setLatLngs(pts);
    map.fitBounds(L.latLngBounds([A,B]).pad(0.25));

    const km=haversine(A,B);
    const {rate,total}=priceFor(km);
    const dk=km.toFixed(1).replace('.',',');
    const ct=total.toFixed(2).replace('.',',');
    priceBox.innerHTML=`Route: <b>${sName}</b> → <b>${dName}</b> · Entfernung: <b>${dk} km</b> · Preis (ab): <b>${ct} €</b> <small class="muted">(Tarif ${rate.toFixed(2)} €/km)</small>`;
    bookBtn.disabled=false;
    bookBtn.onclick=()=>{
      const msg=encodeURIComponent(`Buchung: ${sName} → ${dName} | Entfernung ca. ${dk} km | Preis ab ${ct} € (Tarif ${rate.toFixed(2)} €/km). Bitte um Bestätigung / Termin.`);
      window.open(`https://api.whatsapp.com/send?phone=49162575957&text=${msg}`,'_blank');
    };
    waBtn.href = `https://api.whatsapp.com/send?phone=49162575957&text=${encodeURIComponent('Hallo! Anfrage: '+sName+' → '+dName+' ('+dk+' km, ab '+ct+' €)')}`;
  }

  calcBtn.addEventListener('click', compute);
  startInput.value='Lonsee';
})();</script>
</body>
</html>
"""
Path("/mnt/data/index_modern.html").write_text(html, encoding="utf-8")
print("/mnt/data/index_modern.html")
